{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAQ,sBACRC,EAAOC,SAASC,cAAc,QAC9BC,EAAQF,SAASC,cAAc,uBAC/BE,EAAUH,SAASC,cAAc,4BACjCG,EAAU,CAAEC,MAAO,GAAIC,QAAS,IAEtCP,EAAKQ,iBAAiB,SAAS,SAAUC,GAOvC,OANIA,EAAEC,QAAUP,EACdE,EAAQC,MAAQG,EAAEC,OAAOC,MAEzBN,EAAQE,QAAUE,EAAEC,OAAOC,MAE7BC,IACOP,KAGT,IAAMO,EAASC,EAAAhB,GAAEiB,UAEjB,WACEC,aAAaC,QAAQjB,EAAOkB,KAAKC,UAAUb,MAHC,KAM9CL,EAAKQ,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAEU,iBACFC,QAAQC,IAAIhB,GACZU,aAAaO,QACbtB,EAAKuB,WAGP,IAIkBC,EAJZC,EAAgBR,KAAKS,MAAMX,aAAaY,QAAQ5B,IAEtD6B,OAAOC,QAEWL,EAFOC,OAGD,OAAlBA,IACFrB,EAAQO,MAAQa,EAAIjB,QACpBJ,EAAMQ,MAAQa,EAAIlB,MAClBD,EAAQE,QAAUkB,EAAclB,QAChCF,EAAQC,MAAQmB,EAAcnB,S","sources":["src/js/03-feedback.js"],"sourcesContent":["import _, { set } from 'lodash';\n\nconst local = 'feedback-form-state';\nconst form = document.querySelector('form');\nconst email = document.querySelector('input[type=\"email\"]');\nconst message = document.querySelector('textarea[name=\"message\"]');\nconst options = { email: '', message: '' };\n\nform.addEventListener('input', function (e) {\n  if (e.target == email) {\n    options.email = e.target.value;\n  } else {\n    options.message = e.target.value;\n  }\n  result();\n  return options;\n});\n\nconst result = _.throttle(updateLocalStorage, 500);\n\nfunction updateLocalStorage() {\n  localStorage.setItem(local, JSON.stringify(options));\n}\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  console.log(options);\n  localStorage.clear();\n  form.reset();\n}\n\nconst parsedStorage = JSON.parse(localStorage.getItem(local));\n\nwindow.onload = fillForm(parsedStorage);\n\nfunction fillForm(obj) {\n  if (parsedStorage !== null) {\n    message.value = obj.message;\n    email.value = obj.email;\n    options.message = parsedStorage.message;\n    options.email = parsedStorage.email;\n  }\n}\n\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$local","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$options","email","message","addEventListener","e","target","value","$b00c40859be242c5$var$result","$parcel$interopDefault","throttle","localStorage","setItem","JSON","stringify","preventDefault","console","log","clear","reset","obj","$b00c40859be242c5$var$parsedStorage","parse","getItem","window","onload"],"version":3,"file":"03-feedback.e4033e2e.js.map"}