{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MACMC,EAAOC,SAASC,cAAc,QAC9BC,EAAQF,SAASC,cAAc,uBAC/BE,EAAUH,SAASC,cAAc,4BACjCG,EAAU,CAAEC,MAAO,GAAIC,QAAS,IAEtCP,EAAKQ,iBAAiB,SAAS,SAAUC,GAIvC,OAHEJ,EAAQC,MAAQG,EAAEC,cAAcC,SAASL,MAAMM,MAC/CP,EAAQE,QAAUE,EAAEC,cAAcC,SAASJ,QAAQK,MACrDC,IACOR,KAGT,MAAMQ,EAASC,EAAAhB,GAAEiB,UAEjB,WACEC,aAAaC,QAhBD,sBAgBgBC,KAAKC,UAAUd,MAHC,KAM9CL,EAAKQ,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAEW,iBACFC,QAAQC,IAAIjB,GACZW,aAAaO,QACbvB,EAAKwB,WAGP,MAAMC,EAAgBP,KAAKQ,MAAMV,aAAaW,QA5BhC,wBAgCd,IAAkBC,EAFlBC,OAAOC,QAEWF,EAFOH,OAGD,OAAlBA,IACFrB,EAAQQ,MAAQgB,EAAIrB,QACpBJ,EAAMS,MAAQgB,EAAItB,MAClBD,EAAQE,QAAUkB,EAAclB,QAChCF,EAAQC,MAAQmB,EAAcnB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _, { set } from 'lodash';\n\nconst local = 'feedback-form-state';\nconst form = document.querySelector('form');\nconst email = document.querySelector('input[type=\"email\"]');\nconst message = document.querySelector('textarea[name=\"message\"]');\nconst options = { email: '', message: '' };\n\nform.addEventListener('input', function (e) { \n    options.email = e.currentTarget.elements.email.value;\n    options.message = e.currentTarget.elements.message.value;\n  result();\n  return options;\n});\n\nconst result = _.throttle(updateLocalStorage, 500);\n\nfunction updateLocalStorage() {\n  localStorage.setItem(local, JSON.stringify(options));\n}\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  console.log(options);\n  localStorage.clear();\n  form.reset();\n}\n\nconst parsedStorage = JSON.parse(localStorage.getItem(local));\n\nwindow.onload = fillForm(parsedStorage);\n\nfunction fillForm(obj) {\n  if (parsedStorage !== null) {\n    message.value = obj.message;\n    email.value = obj.email;\n    options.message = parsedStorage.message;\n    options.email = parsedStorage.email;\n  }\n}\n\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$email","$945622fd0f572e60$var$message","$945622fd0f572e60$var$options","email","message","addEventListener","e","currentTarget","elements","value","$945622fd0f572e60$var$result","$parcel$interopDefault","throttle","localStorage","setItem","JSON","stringify","preventDefault","console","log","clear","reset","$945622fd0f572e60$var$parsedStorage","parse","getItem","obj","window","onload"],"version":3,"file":"03-feedback.d8b9fd2f.js.map"}