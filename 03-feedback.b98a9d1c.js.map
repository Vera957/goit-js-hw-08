{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAQ,sBACRC,EAAOC,SAASC,cAAc,QAC9BC,EAAQF,SAASC,cAAc,uBAC/BE,EAAUH,SAASC,cAAc,4BACjCG,EAAU,CAAEC,MAAO,GAAIC,QAAS,IAEtCP,EAAKQ,iBAAiB,SAAS,SAAUC,GAIvC,OAHEJ,EAAQC,MAAQG,EAAEC,cAAcC,SAASL,MAAMM,MAC/CP,EAAQE,QAAUE,EAAEC,cAAcC,SAASJ,QAAQK,MACrDC,IACOR,KAGT,IAAMQ,EAASC,EAAAjB,GAAEkB,UAEjB,WACEC,aAAaC,QAAQlB,EAAOmB,KAAKC,UAAUd,MAHC,KAM9CL,EAAKQ,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAEW,iBACFC,QAAQC,IAAIjB,GACZW,aAAaO,QACbvB,EAAKwB,WAGP,IAIkBC,EAJZC,EAAgBR,KAAKS,MAAMX,aAAaY,QAAQ7B,IAEtD8B,OAAOC,QAEWL,EAFOC,OAGD,OAAlBA,IACFtB,EAAQQ,MAAQa,EAAIlB,QACpBJ,EAAMS,MAAQa,EAAInB,MAClBD,EAAQE,QAAUmB,EAAcnB,QAChCF,EAAQC,MAAQoB,EAAcpB,S","sources":["src/js/03-feedback.js"],"sourcesContent":["import _, { set } from 'lodash';\n\nconst local = 'feedback-form-state';\nconst form = document.querySelector('form');\nconst email = document.querySelector('input[type=\"email\"]');\nconst message = document.querySelector('textarea[name=\"message\"]');\nconst options = { email: '', message: '' };\n\nform.addEventListener('input', function (e) { \n    options.email = e.currentTarget.elements.email.value;\n    options.message = e.currentTarget.elements.message.value;\n  result();\n  return options;\n});\n\nconst result = _.throttle(updateLocalStorage, 500);\n\nfunction updateLocalStorage() {\n  localStorage.setItem(local, JSON.stringify(options));\n}\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  console.log(options);\n  localStorage.clear();\n  form.reset();\n}\n\nconst parsedStorage = JSON.parse(localStorage.getItem(local));\n\nwindow.onload = fillForm(parsedStorage);\n\nfunction fillForm(obj) {\n  if (parsedStorage !== null) {\n    message.value = obj.message;\n    email.value = obj.email;\n    options.message = parsedStorage.message;\n    options.email = parsedStorage.email;\n  }\n}\n\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$local","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$options","email","message","addEventListener","e","currentTarget","elements","value","$b00c40859be242c5$var$result","$parcel$interopDefault","throttle","localStorage","setItem","JSON","stringify","preventDefault","console","log","clear","reset","obj","$b00c40859be242c5$var$parsedStorage","parse","getItem","window","onload"],"version":3,"file":"03-feedback.b98a9d1c.js.map"}